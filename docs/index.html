<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stereo Vision Presentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #111827;
            color: #F3F4F6;
        }
        .swiper {
            width: 100%;
            height: 100%;
        }
        .swiper-slide {
            position: relative; /* For slide number positioning */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 4rem;
            background-color: #111827;
            box-sizing: border-box;
            text-align: center;
        }
        .swiper-slide h1 {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 1rem;
            color: #FFFFFF;
            letter-spacing: -0.05em;
        }
        .swiper-slide h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: #38BDF8; /* Light Blue */
            letter-spacing: -0.05em;
        }
        .swiper-slide h3 {
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #F3F4F6;
        }
        .swiper-slide p, .swiper-slide li {
            font-size: 1.2rem;
            line-height: 1.8;
            max-width: 800px;
        }
        .swiper-pagination-bullet {
            background-color: #6B7280;
            width: 12px;
            height: 12px;
        }
        .swiper-pagination-bullet-active {
            background-color: #38BDF8;
        }
        .swiper-button-next, .swiper-button-prev {
            color: #38BDF8;
            transform: scale(0.8);
        }
        .slide-content {
            display: flex;
            justify-content: space-around;
            align-items: center;
            width: 100%;
            gap: 2rem;
        }
        .text-left-align {
            text-align: left;
        }
        .text-highlight {
            color: #38BDF8;
            font-weight: 600;
        }
        .code-block {
            background-color: #1F2937;
            padding: 1.5rem;
            border-radius: 0.75rem;
            font-family: 'D2Coding', monospace;
            font-size: 1rem;
            text-align: left;
            width: 100%;
            max-width: 800px;
            overflow-x: auto;
            border: 1px solid #374151;
        }
        .formula {
            font-family: 'Times New Roman', serif;
            font-size: 1.8rem;
            color: #A5F3FC; /* Light Cyan */
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            width: 100%;
        }
        .card {
            background-color: #1F2937;
            padding: 2rem;
            border-radius: 0.75rem;
            border: 1px solid #374151;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(56, 189, 248, 0.1), 0 4px 6px -2px rgba(56, 189, 248, 0.05);
        }
        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #38BDF8;
        }
        .img-caption {
            font-size: 0.9rem;
            color: #9CA3AF;
            margin-top: 1rem;
        }

        /* Interactive Calculator Styles */
        .interactive-calculator {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #374151;
            border-radius: 0.5rem;
        }
        .calc-grid-container {
            display: flex;
            justify-content: space-around;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .value-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.25rem;
            width: 130px;
        }
        .grid-input {
            width: 40px;
            height: 40px;
            text-align: center;
            background-color: #1F2937;
            color: #F3F4F6;
            border: 1px solid #4B5563;
            border-radius: 0.25rem;
            font-size: 1rem;
            -moz-appearance: textfield;
            transition: all 0.3s ease;
        }
        .grid-input::-webkit-outer-spin-button,
        .grid-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .grid-input.center {
            border: 2px solid #38BDF8;
            background-color: #1E40AF;
        }
        .grid-input.highlight {
            background-color: #EF4444;
            border-color: #F87171;
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
        }
        .grid-input.processing {
            background-color: #FBBF24;
            border-color: #FCD34D;
            animation: pulse 0.5s ease-in-out;
        }
        .calculate-btn {
            display: block;
            width: 100%;
            padding: 0.75rem;
            background-color: #38BDF8;
            color: #111827;
            border: none;
            border-radius: 0.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .calculate-btn:hover {
            background-color: #7DD3FC;
        }
        .calculate-btn:disabled {
            background-color: #6B7280;
            cursor: not-allowed;
        }
        .result-display {
            margin-top: 1rem;
            padding: 0.75rem;
            background-color: #1F2937;
            border-radius: 0.5rem;
            text-align: center;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        .calculation-steps {
            margin-top: 1rem;
            padding: 0.75rem;
            background-color: #1F2937;
            border-radius: 0.5rem;
            font-family: monospace;
            font-size: 0.9rem;
            min-height: 60px;
            overflow-y: auto;
            max-height: 120px;
        }
        .step-highlight {
            color: #FBBF24;
            font-weight: bold;
        }
        .step-result {
            color: #38BDF8;
            font-weight: bold;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .census-bit {
            display: inline-block;
            padding: 2px 6px;
            margin: 1px;
            background-color: #1F2937;
            border: 1px solid #4B5563;
            border-radius: 3px;
            font-family: monospace;
            transition: all 0.3s ease;
        }
        .census-bit.active {
            background-color: #38BDF8;
            color: #111827;
            transform: scale(1.1);
        }

        /* Interactive Card Styles */
        .algorithm-card {
            background: linear-gradient(135deg, #1F2937 0%, #111827 100%);
            border: 2px solid #374151;
            border-radius: 1rem;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            min-height: 300px;
        }
        .algorithm-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: #38BDF8;
            box-shadow: 0 20px 25px -5px rgba(56, 189, 248, 0.2), 0 10px 10px -5px rgba(56, 189, 248, 0.1);
        }
        .algorithm-card.expanded {
            background: linear-gradient(135deg, #1E40AF 0%, #1F2937 100%);
            border-color: #60A5FA;
            transform: scale(1.05);
            z-index: 10;
        }
        .algorithm-card.sad {
            border-left: 4px solid #06B6D4;
        }
        .algorithm-card.ssd {
            border-left: 4px solid #8B5CF6;
        }
        .algorithm-card.census {
            border-left: 4px solid #10B981;
        }
        .card-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .card-subtitle {
            font-size: 0.9rem;
            color: #9CA3AF;
            line-height: 1.4;
        }
        .card-content {
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s ease-in-out;
        }
        .card-content.show {
            opacity: 1;
            max-height: 400px;
            margin-top: 1.5rem;
        }
        .formula-box {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #374151;
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
            font-size: 1.1rem;
            margin: 1rem 0;
            font-family: 'Times New Roman', serif;
        }
        .example-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.25rem;
            width: fit-content;
            margin: 0 auto;
        }
        .grid-cell {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #374151;
            border: 1px solid #4B5563;
            border-radius: 0.25rem;
            font-size: 0.8rem;
            font-weight: 500;
        }
        .grid-cell.center {
            background: #1E40AF;
            border-color: #3B82F6;
            color: #FFFFFF;
            font-weight: bold;
        }
        .click-hint {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
            background: rgba(56, 189, 248, 0.2);
            color: #38BDF8;
            padding: 0.5rem;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        /* Image Modal Styles */
        .image-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            animation: fadeIn 0.3s ease-out;
        }
        .image-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            margin: auto;
            animation: zoomIn 0.3s ease-out;
        }
        .modal-image {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
        }
        .close-modal {
            position: absolute;
            top: -40px;
            right: 0;
            color: #fff;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        .clickable-image {
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        .clickable-image:hover {
            transform: scale(1.02);
        }
        @keyframes zoomIn {
            from {
                transform: scale(0.5);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Calculation Modal Styles */
        .calc-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            animation: fadeIn 0.4s ease-out;
        }
        .calc-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        .calc-modal-content {
            position: relative;
            background: linear-gradient(135deg, #1F2937 0%, #111827 100%);
            border: 2px solid #38BDF8;
            border-radius: 1rem;
            padding: 3rem;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            animation: calcZoomIn 0.4s ease-out;
            box-shadow: 0 25px 50px -12px rgba(56, 189, 248, 0.25);
        }
        .calc-modal-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #374151;
        }
        .calc-modal-title {
            font-size: 2rem;
            font-weight: 700;
            color: #38BDF8;
            margin-bottom: 0.5rem;
        }
        .calc-modal-subtitle {
            font-size: 1.1rem;
            color: #9CA3AF;
        }
        .calc-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            color: #fff;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid #EF4444;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .calc-close:hover {
            background: rgba(239, 68, 68, 0.4);
            transform: scale(1.1);
        }
        .calc-grid-large {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            width: 200px;
            margin: 0 auto;
        }
        .grid-input-large {
            width: 60px;
            height: 60px;
            text-align: center;
            background-color: #1F2937;
            color: #F3F4F6;
            border: 2px solid #4B5563;
            border-radius: 0.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .grid-input-large.center {
            border: 3px solid #38BDF8;
            background-color: #1E40AF;
            color: #FFFFFF;
        }
        .grid-input-large.highlight {
            background-color: #EF4444;
            border-color: #F87171;
            transform: scale(1.15);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.6);
        }
        .calc-steps-large {
            background-color: #0F172A;
            border: 2px solid #1E293B;
            border-radius: 0.75rem;
            padding: 2rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            line-height: 1.8;
            min-height: 300px;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 2rem;
        }
        .step-item {
            padding: 0.75rem;
            margin: 0.5rem 0;
            border-radius: 0.5rem;
            border-left: 4px solid #38BDF8;
            background: rgba(56, 189, 248, 0.1);
            animation: slideInLeft 0.5s ease-out;
        }
        .step-number {
            color: #38BDF8;
            font-weight: bold;
            font-size: 1.2rem;
        }
        .step-calculation {
            color: #FBBF24;
            font-weight: bold;
            margin: 0.25rem 0;
        }
        .step-result {
            color: #10B981;
            font-weight: bold;
            font-size: 1.1rem;
        }
        .final-result {
            background: linear-gradient(90deg, #10B981, #059669);
            color: white;
            padding: 1rem;
            border-radius: 0.75rem;
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin-top: 1rem;
            box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.2);
        }
        @keyframes calcZoomIn {
            from {
                transform: scale(0.3);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        @keyframes slideInLeft {
            from {
                transform: translateX(-30px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body class="w-screen h-screen">

    <div class="swiper">
        <div class="swiper-wrapper">
            <!-- Slide 1: Title -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">1 / 15</div>
                <div class="text-center">
                    <p class="text-xl text-sky-400 font-semibold mb-4">Stereo Vision Full Guide</p>
                    <h1 class="bg-gradient-to-r from-sky-400 to-cyan-300 bg-clip-text text-transparent">ìŠ¤í…Œë ˆì˜¤ ë¹„ì „ í•™ìŠµ ê°€ì´ë“œ</h1>
                    <h1 class="mb-8">ë‘ ëˆˆìœ¼ë¡œ ì„¸ìƒì„ ì´í•´í•˜ëŠ” ê¸°ìˆ </h1>
                    <p class="text-lg text-gray-400">í•µì‹¬ ì›ë¦¬ë¶€í„° ì‹¤ì „ ì‘ìš©ê¹Œì§€</p>
                </div>
            </div>

            <!-- Slide 2: Overview -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">2 / 15</div>
                <h2>ğŸš€ ìŠ¤í…Œë ˆì˜¤ ë¹„ì „ ê°œìš”</h2>
                <div class="slide-content text-left-align">
                    <div class="w-2/3">
                        <p class="mb-6">ìŠ¤í…Œë ˆì˜¤ ë¹„ì „ì€ <span class="text-highlight">ë‘ ê°œì˜ ì¹´ë©”ë¼</span>ë¥¼ ì‚¬ìš©í•˜ì—¬ 3ì°¨ì› ê¹Šì´ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ì»´í“¨í„° ë¹„ì „ ê¸°ìˆ ì…ë‹ˆë‹¤. ì¸ê°„ì˜ ë‘ ëˆˆì´ ì‚¬ë¬¼ê³¼ì˜ ê±°ë¦¬ë¥¼ ì¸ì§€í•˜ëŠ” <span class="text-highlight">ì–‘ì•ˆì‹œ(Binocular Vision)</span> ì›ë¦¬ë¥¼ ëª¨ë°©í•©ë‹ˆë‹¤.</p>
                        <p>LiDARì™€ ê°™ì€ ê³ ê°€ì˜ ì„¼ì„œ ëŒ€ë¹„ <span class="text-highlight">ì €ë¹„ìš©</span>ìœ¼ë¡œ ê±°ë¦¬ ì¸¡ì •ì´ ê°€ëŠ¥í•˜ì—¬ ë‹¤ì–‘í•œ ë¶„ì•¼ì˜ í•µì‹¬ ê¸°ìˆ ë¡œ ìë¦¬ ì¡ê³  ìˆìŠµë‹ˆë‹¤.</p>
                    </div>
                    <div class="w-1/3">
                        <div class="card">
                            <h3 class="text-cyan-400">ğŸ¯ ì£¼ìš” ì‘ìš© ë¶„ì•¼</h3>
                            <ul class="list-disc list-inside mt-4 space-y-2 text-sm">
                                <li>ììœ¨ì£¼í–‰</li>
                                <li>ë¡œë³´í‹±ìŠ¤ (SLAM)</li>
                                <li>AR / VR</li>
                                <li>3D ëª¨ë¸ë§</li>
                                <li>ì˜ë£Œ ì˜ìƒ</li>
                                <li>í’ˆì§ˆ ê²€ì‚¬</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 3: ëª©ì°¨ -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">3 / 15</div>
                <h2>ğŸ“š ëª©ì°¨ (Table of Contents)</h2>
                <div class="grid grid-cols-2 gap-x-12 gap-y-6 text-left-align max-w-4xl w-full">
                    <div class="text-lg"><span class="text-highlight font-bold">1.</span> StereoVisionì´ë€?</div>
                    <div class="text-lg"><span class="text-highlight font-bold">2.</span> 3ì°¨ì› ê±°ë¦¬ ê³„ì‚° ì›ë¦¬</div>
                    <div class="text-lg"><span class="text-highlight font-bold">3.</span> ìŠ¤í…Œë ˆì˜¤ ë§¤ì¹­ê³¼ ì‹œì°¨ ë§µ</div>
                    <div class="text-lg"><span class="text-highlight font-bold">4.</span> Python ì½”ë“œ êµ¬í˜„</div>
                    <div class="text-lg"><span class="text-highlight font-bold">5.</span> ì‹¤ë¬´ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ</div>
                    <div class="text-lg"><span class="text-highlight font-bold">6.</span> ì„±ëŠ¥ ìµœì í™” ë…¸í•˜ìš°</div>
                    <div class="text-lg"><span class="text-highlight font-bold">7.</span> ì‹¤ì œ í”„ë¡œì íŠ¸ ì¼€ì´ìŠ¤ ìŠ¤í„°ë””</div>
                </div>
            </div>

            <!-- Slide 4: 1. StereoVisionì´ë€? -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">4 / 15</div>
                <h2>1. StereoVisionì´ë€?</h2>
                 <div class="slide-content items-start">
                    <div class="w-1/2 text-left-align">
                        <h3 class="mb-4 text-cyan-400">ğŸ” ê¸°ë³¸ ê°œë…</h3>
                        <p>ì‚¬ëŒì˜ ì–‘ì•ˆì‹œ ì›ë¦¬ë¥¼ ëª¨ë°©í•˜ì—¬ 2ì°¨ì› ì˜ìƒìœ¼ë¡œë¶€í„° 3ì°¨ì› ê¹Šì´ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ë‘ ì¹´ë©”ë¼ë¡œ ì´¬ì˜í•œ ì¢Œ/ìš° ì˜ìƒì˜ <span class="text-highlight">ì‹œì°¨(Disparity)</span>ë¥¼ ì´ìš©í•˜ì—¬ ê±°ë¦¬ ì •ë³´ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.</p>
                        
                        <h3 class="mt-8 mb-4 text-cyan-400">âœ… ì¥ë‹¨ì </h3>
                        <p><span class="text-green-400 font-semibold">ì¥ì :</span> ì €ë¹„ìš©, ë„“ì€ ì¸¡ì • ë²”ìœ„, ê°„ë‹¨í•œ ì‹œìŠ¤í…œ êµ¬ì„±</p>
                        <p><span class="text-red-400 font-semibold">ë‹¨ì :</span> ìƒëŒ€ì ìœ¼ë¡œ ë‚®ì€ ì •í™•ë„, ì¡°ëª… ë¯¼ê°ì„±, í…ìŠ¤ì²˜ ì—†ëŠ” í‘œë©´(í° ë²½ ë“±)ì— ì·¨ì•½</p>
                    </div>
                    <div class="w-1/2">
                        <img src="../images/image1.png" alt="ìŠ¤í…Œë ˆì˜¤ë¹„ì „ ê°œë…" class="rounded-lg bg-gray-800 p-1 border border-gray-700"/>
                        <p class="img-caption">ë‘ ì¹´ë©”ë¼ì˜ ì˜ìƒ ì°¨ì´ë¡œ ê¹Šì´ë¥¼ ì¸ì‹í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>

            <!-- Slide 5: 2. 3ì°¨ì› ê±°ë¦¬ ê³„ì‚° ì›ë¦¬ -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">5 / 15</div>
                <h2>2. 3ì°¨ì› ê±°ë¦¬ ê³„ì‚° ì›ë¦¬</h2>
                <div class="slide-content text-left-align">
                    <div class="w-1/2">
                        <img src="../images/image3.png" alt="3ì°¨ì› ê±°ë¦¬ ê³„ì‚° ì›ë¦¬" class="rounded-lg bg-gray-800 p-1 border border-gray-700"/>
                        <p class="img-caption">ìœ ì‚¬ ì‚¼ê°í˜• ì›ë¦¬ë¥¼ ì´ìš©í•œ ê¹Šì´(Z) ê³„ì‚°</p>
                    </div>
                    <div class="w-1/2">
                        <p class="mb-6">ê¹Šì´(Z)ëŠ” <span class="text-highlight">ì´ˆì ê±°ë¦¬(f)</span>ì™€ <span class="text-highlight">ë² ì´ìŠ¤ë¼ì¸(b)</span>ì˜ ê³±ì„ <span class="text-highlight">ì‹œì°¨(d)</span>ë¡œ ë‚˜ëˆˆ ê°’ì…ë‹ˆë‹¤.</p>
                        <div class="code-block text-center">
                            <p class="formula">Z = (f Ã— b) / d</p>
                        </div>
                        <ul class="mt-6 list-disc list-inside space-y-2">
                            <li><span class="text-highlight">Z</span>: ê¹Šì´ (ì¹´ë©”ë¼ë¡œë¶€í„°ì˜ ê±°ë¦¬)</li>
                            <li><span class="text-highlight">f</span>: ì¹´ë©”ë¼ ì´ˆì ê±°ë¦¬ (pixels)</li>
                            <li><span class="text-highlight">b</span>: ë‘ ì¹´ë©”ë¼ ì‚¬ì´ì˜ ê±°ë¦¬ (meters)</li>
                            <li><span class="text-highlight">d</span>: ì‹œì°¨ (pixels) = x_L - x_R</li>
                        </ul>
                    </div>
                </div>
                 <p class="mt-8 text-xl">í•µì‹¬: <span class="text-amber-400">ì‹œì°¨ê°€ í´ìˆ˜ë¡ ê°€ê¹ê³ </span>, <span class="text-sky-400">ì‹œì°¨ê°€ ì‘ì„ìˆ˜ë¡ ë©‰ë‹ˆë‹¤.</span> (ë°˜ë¹„ë¡€ ê´€ê³„)</p>
            </div>
            
            <!-- Slide 6: 3. Stereo Matching -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">6 / 15</div>
                <h2>3. ìŠ¤í…Œë ˆì˜¤ ë§¤ì¹­ (Stereo Matching)</h2>
                <p class="mb-6">ì¢Œì¸¡ ì˜ìƒì˜ í•œ í”½ì…€ì— ëŒ€ì‘í•˜ëŠ” ì ì„ ìš°ì¸¡ ì˜ìƒì—ì„œ ì°¾ëŠ” ê³¼ì •</p>
                <div class="slide-content items-stretch">
                    <div class="card w-2/5">
                        <h3 class="mb-4">ì…ë ¥ (Input)</h3>
                        <p>ë³´ì •ëœ ì¢Œ/ìš° ì´ë¯¸ì§€ í•œ ìŒ</p>
                        <img src="../images/image5.png" alt="ìŠ¤í…Œë ˆì˜¤ ì •í•© ì…ë ¥" class="rounded mt-4 border border-gray-700"/>
                    </div>
                     <div class="flex items-center justify-center text-4xl text-sky-400 px-4">
                        <i class="fas fa-arrow-right-long"></i>
                    </div>
                    <div class="card w-2/5">
                        <h3 class="mb-4">ê²°ê³¼ (Output)</h3>
                        <p>ì‹œì°¨ ë§µ (Disparity Map)</p>
                        <div class="w-full h-32 mt-4 border border-gray-700 rounded relative overflow-hidden bg-gradient-to-r from-black via-gray-600 to-white">
                            <div class="absolute inset-0 bg-gradient-to-br from-black via-gray-500 via-gray-300 to-white opacity-80"></div>
                            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white font-bold text-lg bg-black bg-opacity-50 px-3 py-1 rounded">
                                Disparity Map
                            </div>
                        </div>
                        <p class="img-caption">ë°ì€ ì˜ì—­ = ê°€ê¹Œì›€ (ì‹œì°¨ í¼)</p>
                    </div>
                </div>
            </div>
            
            <!-- Slide 7: Matching Algorithms -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">7 / 15</div>
                <h2>ìŠ¤í…Œë ˆì˜¤ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜</h2>
                <div class="slide-content text-left-align items-stretch">
                    <div class="card w-1/2">
                        <h3 class="text-cyan-400">ğŸ  ì§€ì—­ ì •í•© (Local)</h3>
                        <p class="mb-4">íŠ¹ì • ìœˆë„ìš°(ì˜ì—­)ë§Œ ë³´ê³  ë¹„ìš©ì„ ê³„ì‚°í•©ë‹ˆë‹¤.</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li><span class="text-highlight">íŠ¹ì§•:</span> <span class="text-green-400">ì†ë„ ë¹ ë¦„</span>, êµ¬í˜„ ìš©ì´, í•˜ë“œì›¨ì–´ ì¹œí™”ì </li>
                            <li><span class="text-highlight">ë‹¨ì :</span> ì •í™•ë„ ë³´í†µ, ë°˜ë³µ íŒ¨í„´/í…ìŠ¤ì²˜ ì—†ëŠ” ì˜ì—­ì— ì·¨ì•½</li>
                            <li><span class="text-highlight">ì•Œê³ ë¦¬ì¦˜:</span> SAD, SSD, NCC, Census</li>
                        </ul>
                    </div>
                    <div class="card w-1/2">
                        <h3 class="text-fuchsia-400">ğŸŒ ì „ì—­ ì •í•© (Global)</h3>
                        <p class="mb-4">ì˜ìƒ ì „ì²´ì˜ ê´€ê³„ë¥¼ ê³ ë ¤í•˜ì—¬ ì‹œì°¨ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li><span class="text-highlight">íŠ¹ì§•:</span> <span class="text-green-400">ì •í™•ë„ ë†’ìŒ</span>, ê²½ê³„ì„  í‘œí˜„ ìš°ìˆ˜</li>
                            <li><span class="text-highlight">ë‹¨ì :</span> ê³„ì‚°ëŸ‰ ë§ê³  ë§¤ìš° ëŠë¦¼</li>
                             <li><span class="text-highlight">ì•Œê³ ë¦¬ì¦˜:</span> Graph Cuts, Belief Propagation, SGM</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Slide 8: Local Matching Methods Detail -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">8 / 15</div>
                <h2>ğŸ” ì§€ì—­ ì •í•© ë°©ë²• ìƒì„¸</h2>
                <div class="grid grid-cols-3 gap-6 w-full max-w-6xl mt-8">
                    <!-- SAD Card -->
                    <div class="algorithm-card sad" data-algorithm="sad">
                        <div class="card-header">
                            <h3 class="card-title text-cyan-400">SAD</h3>
                            <h4 class="text-lg font-semibold text-white mb-2">(Sum of Absolute Differences)</h4>
                            <p class="card-subtitle">í”½ì…€ê°’ ì°¨ì´ì˜ ì ˆëŒ“ê°’ í•©ìœ¼ë¡œ ë¹„ìš©(Cost) ê³„ì‚°</p>
                        </div>
                        
                        <div class="text-center">
                            <div class="example-grid mb-4">
                                <div class="grid-cell">85</div>
                                <div class="grid-cell">90</div>
                                <div class="grid-cell">95</div>
                                <div class="grid-cell">80</div>
                                <div class="grid-cell">88</div>
                                <div class="grid-cell">92</div>
                                <div class="grid-cell">75</div>
                                <div class="grid-cell">82</div>
                                <div class="grid-cell">85</div>
                            </div>
                            <p class="text-sm text-gray-300 mb-2">ì¢Œì¸¡ ìœˆë„ìš°</p>
                        </div>

                        <div class="card-content" id="sad-content">
                            <div class="formula-box">
                                SAD = Î£ |I<sub>L</sub>(x,y) - I<sub>R</sub>(x-d,y)|
                            </div>
                            <p class="text-sm text-gray-300 mb-3">
                                ì¢Œì¸¡ ì˜ìƒì˜ ìœˆë„ìš°ì™€ ìš°ì¸¡ ì˜ìƒì˜ ì—¬ëŸ¬ í›„ë³´ ìœˆë„ìš°ë¥¼ ë¹„êµí•˜ì—¬ í”½ì…€ê°’ ì°¨ì´ì˜ ì ˆëŒ“ê°’ í•©ì´ <span class="text-cyan-400 font-semibold">ê°€ì¥ ì‘ì€</span> ìœ„ì¹˜ë¥¼ ì°¾ìŠµë‹ˆë‹¤.
                            </p>
                            <div class="text-center mb-3">
                                <img src="../images/image8.png" alt="SAD ê³„ì‚° ê³¼ì •" class="clickable-image rounded-lg border border-gray-600 bg-white p-2" style="max-width: 100%; height: auto;"/>
                                <p class="img-caption">SAD ë§¤ì¹­ ê³¼ì •ê³¼ ë¹„ìš© ê³„ì‚°</p>
                            </div>
                            <div class="bg-gray-700 p-3 rounded">
                                <div class="text-xs">
                                    <div class="mb-1"><span class="text-cyan-400">âœ“ ì¥ì :</span> ë¹ ë¥¸ ê³„ì‚°, ê°„ë‹¨í•œ êµ¬í˜„</div>
                                    <div><span class="text-red-400">âœ— ë‹¨ì :</span> ë…¸ì´ì¦ˆì— ë¯¼ê°, ì¡°ëª… ë³€í™”ì— ì·¨ì•½</div>
                                </div>
                            </div>
                        </div>

                        <div class="click-hint">
                            <i class="fas fa-mouse-pointer text-sm"></i>
                        </div>
                    </div>

                    <!-- SSD Card -->
                    <div class="algorithm-card ssd" data-algorithm="ssd">
                        <div class="card-header">
                            <h3 class="card-title text-purple-400">SSD</h3>
                            <h4 class="text-lg font-semibold text-white mb-2">(Sum of Squared Differences)</h4>
                            <p class="card-subtitle">í”½ì…€ê°’ ì°¨ì´ì˜ ì œê³± í•©ìœ¼ë¡œ ë¹„ìš© ê³„ì‚°. ì˜¤ì°¨ì— ë” ë¯¼ê°.</p>
                        </div>
                        
                        <div class="text-center">
                            <div class="example-grid mb-4">
                                <div class="grid-cell">85</div>
                                <div class="grid-cell">90</div>
                                <div class="grid-cell">95</div>
                                <div class="grid-cell">80</div>
                                <div class="grid-cell">88</div>
                                <div class="grid-cell">92</div>
                                <div class="grid-cell">75</div>
                                <div class="grid-cell">82</div>
                                <div class="grid-cell">85</div>
                            </div>
                            <p class="text-sm text-gray-300 mb-2">ì¢Œì¸¡ ìœˆë„ìš°</p>
                        </div>

                        <div class="card-content" id="ssd-content">
                            <div class="formula-box">
                                SSD = Î£ (I<sub>L</sub>(x,y) - I<sub>R</sub>(x-d,y))<sup>2</sup>
                            </div>
                            <p class="text-sm text-gray-300 mb-3">
                                SADì™€ ìœ ì‚¬í•˜ì§€ë§Œ ì°¨ì´ê°’ì„ <span class="text-purple-400 font-semibold">ì œê³±</span>í•˜ì—¬ í•©ì‚°í•©ë‹ˆë‹¤. í° ì˜¤ì°¨ì— ë” ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•˜ì—¬ ì •í™•ë„ê°€ ë†’ìŠµë‹ˆë‹¤.
                            </p>
                            <div class="text-center mb-3">
                                <img src="../images/image9.png" alt="SSD ê³„ì‚° ê³¼ì •" class="clickable-image rounded-lg border border-gray-600 bg-white p-2" style="max-width: 100%; height: auto;"/>
                                <p class="img-caption">SSD ë§¤ì¹­ ê³¼ì •ê³¼ ì œê³± ì°¨ì´ ê³„ì‚°</p>
                            </div>
                            <div class="bg-gray-700 p-3 rounded">
                                <div class="text-xs">
                                    <div class="grid grid-cols-3 gap-2 mb-2">
                                        <div class="font-semibold">ì°¨ì´ê°’</div>
                                        <div class="font-semibold text-cyan-400">SAD</div>
                                        <div class="font-semibold text-purple-400">SSD</div>
                                        <div>1</div><div>1</div><div>1</div>
                                        <div>2</div><div>2</div><div class="text-purple-400 font-bold">4</div>
                                        <div>5</div><div>5</div><div class="text-purple-400 font-bold">25</div>
                                    </div>
                                    <p class="text-gray-400">SSDëŠ” í° ì˜¤ì°¨ë¥¼ ë” í¬ê²Œ ì²˜ë²Œ</p>
                                </div>
                            </div>
                        </div>

                        <div class="click-hint">
                            <i class="fas fa-mouse-pointer text-sm"></i>
                        </div>
                    </div>

                    <!-- Census Transform Card -->
                    <div class="algorithm-card census" data-algorithm="census">
                        <div class="card-header">
                            <h3 class="card-title text-green-400">Census Transform</h3>
                            <p class="card-subtitle">ì¤‘ì‹¬ í”½ì…€ê³¼ ì£¼ë³€ í”½ì…€ì˜ ëŒ€ì†Œ ê´€ê³„ë¡œ ë¹„íŠ¸ íŒ¨í„´ ìƒì„±</p>
                        </div>
                        
                        <div class="text-center">
                            <p class="text-sm text-gray-300 mb-2">í”½ì…€ ìœˆë„ìš°</p>
                            <div class="example-grid mb-4">
                                <div class="grid-cell">120</div>
                                <div class="grid-cell">125</div>
                                <div class="grid-cell">130</div>
                                <div class="grid-cell">110</div>
                                <div class="grid-cell center">100</div>
                                <div class="grid-cell">90</div>
                                <div class="grid-cell">105</div>
                                <div class="grid-cell">95</div>
                                <div class="grid-cell">80</div>
                            </div>
                        </div>

                        <div class="card-content" id="census-content">
                            <p class="text-sm text-gray-300 mb-3">
                                í”½ì…€ê°’ ìì²´ê°€ ì•„ë‹Œ <span class="text-green-400 font-semibold">ìƒëŒ€ì  ê´€ê³„</span>ë¥¼ ë¹„íŠ¸ íŒ¨í„´ìœ¼ë¡œ ì¸ì½”ë”©í•©ë‹ˆë‹¤. ì¡°ëª… ë³€í™”ì— ê°•ê±´í•©ë‹ˆë‹¤.
                            </p>
                            <div class="text-center mb-3">
                                <img src="../images/image10.png" alt="Census Transform ê³„ì‚° ê³¼ì •" class="clickable-image rounded-lg border border-gray-600 bg-white p-2" style="max-width: 100%; height: auto;"/>
                                <p class="img-caption">Census Transform ë¹„íŠ¸ íŒ¨í„´ ìƒì„± ê³¼ì •</p>
                            </div>
                            <div class="bg-gray-700 p-3 rounded mb-3">
                                <div class="text-xs space-y-1">
                                    <div>120 â‰¥ 100 â†’ <span class="text-green-400 font-bold">1</span></div>
                                    <div>125 â‰¥ 100 â†’ <span class="text-green-400 font-bold">1</span></div>
                                    <div>130 â‰¥ 100 â†’ <span class="text-green-400 font-bold">1</span></div>
                                    <div>110 â‰¥ 100 â†’ <span class="text-green-400 font-bold">1</span></div>
                                    <div>90 < 100 â†’ <span class="text-red-400 font-bold">0</span></div>
                                    <div>105 â‰¥ 100 â†’ <span class="text-green-400 font-bold">1</span></div>
                                    <div>95 < 100 â†’ <span class="text-red-400 font-bold">0</span></div>
                                    <div>80 < 100 â†’ <span class="text-red-400 font-bold">0</span></div>
                                </div>
                            </div>
                            <div class="text-center bg-green-900 bg-opacity-30 p-2 rounded">
                                <span class="text-green-400 font-bold">ê²°ê³¼: 11110100</span>
                            </div>
                        </div>

                        <div class="click-hint">
                            <i class="fas fa-mouse-pointer text-sm"></i>
                        </div>
                    </div>
                </div>
                <p class="text-center text-gray-400 text-sm mt-6">ğŸ’¡ ê° ì¹´ë“œë¥¼ í´ë¦­í•˜ì—¬ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
            </div>

            <!-- Slide 9: Local Matching Deep Dive -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">9 / 15</div>
                <h2>ì§€ì—­ ì •í•© ì•Œê³ ë¦¬ì¦˜ ìƒì„¸</h2>
                 <div class="grid-container w-full max-w-6xl">
                    <div class="card">
                        <h3 class="text-cyan-400">SAD (Sum of Absolute Differences)</h3>
                        <p>í”½ì…€ê°’ ì°¨ì´ì˜ ì ˆëŒ“ê°’ í•©ìœ¼ë¡œ ë¹„ìš©(Cost) ê³„ì‚°</p>
                        <div class="interactive-calculator" id="sad-calculator">
                            <div class="calc-grid-container">
                                <div>
                                    <h4 class="text-base font-semibold mb-2 text-center">ì¢Œì¸¡ ìœˆë„ìš°</h4>
                                    <div class="value-grid">
                                        <input type="number" class="grid-input" value="85"><input type="number" class="grid-input" value="90"><input type="number" class="grid-input" value="95">
                                        <input type="number" class="grid-input" value="80"><input type="number" class="grid-input" value="88"><input type="number" class="grid-input" value="92">
                                        <input type="number" class="grid-input" value="75"><input type="number" class="grid-input" value="82"><input type="number" class="grid-input" value="85">
                                    </div>
                                </div>
                                <div>
                                    <h4 class="text-base font-semibold mb-2 text-center">ìš°ì¸¡ ìœˆë„ìš°</h4>
                                    <div class="value-grid">
                                        <input type="number" class="grid-input" value="88"><input type="number" class="grid-input" value="92"><input type="number" class="grid-input" value="98">
                                        <input type="number" class="grid-input" value="81"><input type="number" class="grid-input" value="89"><input type="number" class="grid-input" value="94">
                                        <input type="number" class="grid-input" value="77"><input type="number" class="grid-input" value="84"><input type="number" class="grid-input" value="86">
                                    </div>
                                </div>
                            </div>
                            <button class="calculate-btn" id="sad-calculate-btn">SAD ë¹„ìš© ê³„ì‚°</button>
                            <div class="calculation-steps" id="sad-steps">ê³„ì‚° ê³¼ì •ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
                            <div class="result-display">Cost: <span id="sad-result" class="font-bold text-sky-300">?</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="text-cyan-400">SSD (Sum of Squared Differences)</h3>
                        <p>í”½ì…€ê°’ ì°¨ì´ì˜ ì œê³± í•©ìœ¼ë¡œ ë¹„ìš© ê³„ì‚°. ì˜¤ì°¨ì— ë” ë¯¼ê°.</p>
                        <div class="interactive-calculator" id="ssd-calculator">
                            <div class="calc-grid-container">
                                <div>
                                    <h4 class="text-base font-semibold mb-2 text-center">ì¢Œì¸¡ ìœˆë„ìš°</h4>
                                    <div class="value-grid">
                                        <input type="number" class="grid-input" value="85"><input type="number" class="grid-input" value="90"><input type="number" class="grid-input" value="95">
                                        <input type="number" class="grid-input" value="80"><input type="number" class="grid-input" value="88"><input type="number" class="grid-input" value="92">
                                        <input type="number" class="grid-input" value="75"><input type="number" class="grid-input" value="82"><input type="number" class="grid-input" value="85">
                                    </div>
                                </div>
                                <div>
                                    <h4 class="text-base font-semibold mb-2 text-center">ìš°ì¸¡ ìœˆë„ìš°</h4>
                                    <div class="value-grid">
                                        <input type="number" class="grid-input" value="88"><input type="number" class="grid-input" value="92"><input type="number" class="grid-input" value="98">
                                        <input type="number" class="grid-input" value="81"><input type="number" class="grid-input" value="89"><input type="number" class="grid-input" value="94">
                                        <input type="number" class="grid-input" value="77"><input type="number" class="grid-input" value="84"><input type="number" class="grid-input" value="86">
                                    </div>
                                </div>
                            </div>
                            <button class="calculate-btn" id="ssd-calculate-btn">SSD ë¹„ìš© ê³„ì‚°</button>
                            <div class="calculation-steps" id="ssd-steps">ê³„ì‚° ê³¼ì •ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
                            <div class="result-display">Cost: <span id="ssd-result" class="font-bold text-sky-300">?</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="text-cyan-400">Census Transform</h3>
                        <p>ì¤‘ì‹¬ í”½ì…€ê³¼ ì£¼ë³€ í”½ì…€ì˜ ëŒ€ì†Œ ê´€ê³„ë¡œ ë¹„íŠ¸ íŒ¨í„´ ìƒì„±</p>
                        <div class="interactive-calculator" id="census-calculator">
                            <div class="calc-grid-container justify-center">
                                <div>
                                     <h4 class="text-base font-semibold mb-2 text-center">í”½ì…€ ìœˆë„ìš°</h4>
                                     <div class="value-grid">
                                        <input type="number" class="grid-input" value="120"><input type="number" class="grid-input" value="125"><input type="number" class="grid-input" value="130">
                                        <input type="number" class="grid-input" value="110"><input type="number" class="grid-input center" value="100"><input type="number" class="grid-input" value="90">
                                        <input type="number" class="grid-input" value="105"><input type="number" class="grid-input" value="95"><input type="number" class="grid-input" value="80">
                                     </div>
                                </div>
                            </div>
                            <button class="calculate-btn" id="census-calculate-btn">Census ë¹„íŠ¸ íŒ¨í„´ ìƒì„±</button>
                            <div class="calculation-steps" id="census-steps">ê³„ì‚° ê³¼ì •ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
                            <div class="result-display">ê²°ê³¼: <span id="census-result" class="font-bold text-sky-300">?</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 10: 4. Python Implementation -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">10 / 15</div>
                <h2>4. Python ì½”ë“œ êµ¬í˜„ (OpenCV)</h2>
                <p class="mb-4">OpenCVëŠ” ê°•ë ¥í•œ ìŠ¤í…Œë ˆì˜¤ ë§¤ì¹­ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
                <div class="w-full max-w-4xl">
                <h3 class="text-left-align text-cyan-400 mb-2">ê³ ê¸‰ êµ¬í˜„ (StereoSGBM)</h3>
                <pre class="code-block text-sm"><code>import cv2
import numpy as np

def advanced_stereo_matching(imgL, imgR):
    window_size = 5
    stereo = cv2.StereoSGBM_create(
        minDisparity=0,
        numDisparities=64,
        blockSize=window_size,
        P1=8 * 3 * window_size ** 2,
        P2=32 * 3 * window_size ** 2,
        disp12MaxDiff=1,
        uniquenessRatio=10,
        speckleWindowSize=100,
        speckleRange=32
    )
    disparity = stereo.compute(imgL, imgR).astype(np.float32) / 16.0
    return disparity
                </code></pre>
                </div>
            </div>
            
            <!-- Slide 11: 5. Troubleshooting -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">11 / 15</div>
                <h2>5. ì‹¤ë¬´ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ</h2>
                <div class="slide-content text-left-align items-stretch">
                    <div class="card w-1/2">
                        <h3 class="text-rose-400">ë¬¸ì œ 1: ì‹œì°¨ ë§µì— ë…¸ì´ì¦ˆê°€ ë§ì•„ìš”!</h3>
                        <p class="mb-4">ì ë“¤ì´ í©ë‚ ë¦¬ê±°ë‚˜, ì—°ì†ì ì´ì§€ ì•Šì€ ì‹œì°¨ ê°’</p>
                        <p class="font-bold text-sky-400"># ì§„ë‹¨ ë° í•´ê²°</p>
                         <ul class="list-disc list-inside space-y-1 mt-2 text-sm">
                            <li><span class="text-highlight">ì¹´ë©”ë¼ ìº˜ë¦¬ë¸Œë ˆì´ì…˜</span>ì´ í‹€ì–´ì¡ŒëŠ”ì§€ í™•ì¸ (ê°€ì¥ ì¤‘ìš”)</li>
                            <li>ì¡°ëª…ì´ ì–´ë‘¡ê±°ë‚˜ <span class="text-highlight">í…ìŠ¤ì²˜ê°€ ë¶€ì¡±í•œ í™˜ê²½</span>ì¸ì§€ ì ê²€ (ex: í° ë²½)</li>
                             <li>ì•Œê³ ë¦¬ì¦˜ ë§¤ê°œë³€ìˆ˜(<span class="text-highlight">blockSize, uniquenessRatio</span>) ì¡°ì •</li>
                             <li>í›„ì²˜ë¦¬ í•„í„°(Median Filter, WLS Filter) ì ìš©</li>
                        </ul>
                    </div>
                    <div class="card w-1/2">
                        <h3 class="text-amber-400">ë¬¸ì œ 2: íŠ¹ì • ì˜ì—­ ë§¤ì¹­ì´ ì•ˆë¼ìš”!</h3>
                        <p class="mb-4">ë°˜ë³µ íŒ¨í„´, ê³¼ë…¸ì¶œ/ì €ë…¸ì¶œ ì˜ì—­, ê°€ë ¤ì§„(Occluded) ì˜ì—­</p>
                         <p class="font-bold text-sky-400"># í•´ê²° ì „ëµ</p>
                        <ul class="list-disc list-inside space-y-1 mt-2 text-sm">
                            <li><span class="text-highlight">ì ì‘ì  ì „ì²˜ë¦¬</span>(CLAHE)ë¡œ ëŒ€ë¹„ í–¥ìƒ</li>
                            <li><span class="text-highlight">ì„œë¡œ ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ ìœµí•©</span> (e.g., Census + SAD)</li>
                             <li>Left-Right Consistency Checkë¡œ ì‹ ë¢°ë„ ë‚®ì€ ì˜ì—­ ì œê±°</li>
                             <li>IMU ë“± ë‹¤ë¥¸ ì„¼ì„œì™€ ìœµí•©(Sensor Fusion)í•˜ì—¬ ë³´ì™„</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Slide 12: 6. Performance Optimization -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">12 / 15</div>
                <h2>6. ì„±ëŠ¥ ìµœì í™” ë…¸í•˜ìš°</h2>
                <div class="grid-container w-full max-w-5xl">
                    <div class="card">
                        <i class="fa-solid fa-compress card-icon"></i>
                        <h3>í•´ìƒë„ ë‚®ì¶”ê¸°</h3>
                        <p class="text-sm">ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²•. ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì ˆë°˜ìœ¼ë¡œ ì¤„ì´ë©´ ê³„ì‚°ëŸ‰ì€ 1/4ë¡œ ê°ì†Œí•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="card">
                        <i class="fa-solid fa-crop-simple card-icon"></i>
                        <h3>ê´€ì‹¬ ì˜ì—­(ROI) ì²˜ë¦¬</h3>
                        <p class="text-sm">í™”ë©´ ì „ì²´ê°€ ì•„ë‹Œ í•„ìš”í•œ ë¶€ë¶„(e.g., ë„ë¡œ ì˜ì—­)ë§Œ ì²˜ë¦¬í•˜ì—¬ ê³„ì‚°ëŸ‰ì„ ì¤„ì…ë‹ˆë‹¤.</p>
                    </div>
                    <div class="card">
                        <i class="fa-solid fa-forward-step card-icon"></i>
                        <h3>í”„ë ˆì„ ìŠ¤í‚¤í•‘</h3>
                        <p class="text-sm">ëª¨ë“  í”„ë ˆì„ì„ ì²˜ë¦¬í•˜ëŠ” ëŒ€ì‹ , ëª‡ í”„ë ˆì„ ê±´ë„ˆë›°ë©° ì²˜ë¦¬í•˜ì—¬ ë¶€í•˜ë¥¼ ì¤„ì…ë‹ˆë‹¤.</p>
                    </div>
                    <div class="card">
                        <i class="fa-solid fa-microchip card-icon"></i>
                        <h3>GPU ê°€ì† (CUDA)</h3>
                        <p class="text-sm">OpenCVì˜ CUDA ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ GPUì—ì„œ ë³‘ë ¬ ì²˜ë¦¬í•˜ì—¬ ì†ë„ë¥¼ ë¹„ì•½ì ìœ¼ë¡œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>

            <!-- Slide 13: 7. Case Study -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">13 / 15</div>
                <h2>7. ì‹¤ì œ í”„ë¡œì íŠ¸ ì¼€ì´ìŠ¤ ìŠ¤í„°ë””</h2>
                 <div class="slide-content text-left-align items-stretch">
                    <div class="card w-1/3">
                        <h3 class="text-sky-400">ğŸš— ììœ¨ì£¼í–‰</h3>
                        <p class="text-sm mb-2">ì „ë°© ì°¨ëŸ‰/ì¥ì• ë¬¼ ê±°ë¦¬ ì¸¡ì •</p>
                        <ul class="list-disc list-inside space-y-1 text-xs">
                            <li><span class="text-highlight">íŠ¹ì§•:</span> ë„“ì€ ë² ì´ìŠ¤ë¼ì¸, ì‹¤ì‹œê°„ì„±, ë†’ì€ ì‹ ë¢°ë„</li>
                             <li><span class="text-highlight">í•µì‹¬ê¸°ìˆ :</span> SGBM, ROI ì²˜ë¦¬, ì‹œê°„ì  í•„í„°ë§, AI ê°ì²´íƒì§€ ìœµí•©</li>
                        </ul>
                    </div>
                     <div class="card w-1/3">
                        <h3 class="text-sky-400">ğŸ¤– ì‹¤ë‚´ ë¡œë´‡</h3>
                        <p class="text-sm mb-2">ì¥ì• ë¬¼ íšŒí”¼, SLAM</p>
                        <ul class="list-disc list-inside space-y-1 text-xs">
                            <li><span class="text-highlight">íŠ¹ì§•:</span> ì§§ì€ ë² ì´ìŠ¤ë¼ì¸, ì €ì „ë ¥, ì €ë¹„ìš©</li>
                             <li><span class="text-highlight">í•µì‹¬ê¸°ìˆ :</span> StereoBM, ë°”ë‹¥/ì¥ì• ë¬¼ ë¶„ë¦¬, íƒ‘ë·° ë³€í™˜</li>
                        </ul>
                    </div>
                     <div class="card w-1/3">
                        <h3 class="text-sky-400">ğŸ­ ì œì¡°ì—… ê²€ì‚¬</h3>
                        <p class="text-sm mb-2">ë¶€í’ˆ ë†’ì´/ì¹˜ìˆ˜ ì¸¡ì •</p>
                        <ul class="list-disc list-inside space-y-1 text-xs">
                            <li><span class="text-highlight">íŠ¹ì§•:</span> ê³ ì • í™˜ê²½, ìµœê³  ì •ë°€ë„</li>
                             <li><span class="text-highlight">í•µì‹¬ê¸°ìˆ :</span> ê³ í•´ìƒë„ SGBM, ì„œë¸Œí”½ì…€ ë³´ì •, ì •ë°€ ìº˜ë¦¬ë¸Œë ˆì´ì…˜</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Slide 14: Q&A -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">14 / 15</div>
                <h2>Q & A</h2>
                <div class="w-full max-w-3xl space-y-6 text-left-align">
                    <div class="card">
                        <h3>Q. ì¹´ë©”ë¼ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ì´ ë„ˆë¬´ ì–´ë ¤ì›Œìš”. ê¼­ í•´ì•¼ í•˜ë‚˜ìš”?</h3>
                        <p class="mt-4 text-gray-300"><i class="fas fa-lightbulb text-yellow-300 mr-2"></i><span class="text-highlight">A. ì •í™•í•œ 'ë¯¸í„°(meter)' ë‹¨ìœ„ ê±°ë¦¬ë¥¼ ì›í•œë‹¤ë©´ í•„ìˆ˜ì…ë‹ˆë‹¤.</span> ìº˜ë¦¬ë¸Œë ˆì´ì…˜ì€ í”½ì…€ ì„¸ê³„ì™€ í˜„ì‹¤ ì„¸ê³„ë¥¼ ì—°ê²°í•˜ëŠ” 'ë²ˆì—­ê¸°'ì™€ ê°™ìŠµë‹ˆë‹¤. ë¶€ì •í™•í•œ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ì€ ëª¨ë“  ì¸¡ì •ê°’ì˜ ì˜¤ì°¨ë¥¼ ìœ ë°œí•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="card">
                        <h3>Q. ë”¥ëŸ¬ë‹ ê¸°ë°˜ ìŠ¤í…Œë ˆì˜¤ ë§¤ì¹­ì€ ê¸°ì¡´ ë°©ì‹ë³´ë‹¤ í•­ìƒ ì¢‹ì€ê°€ìš”?</h3>
                        <p class="mt-4 text-gray-300"><i class="fas fa-lightbulb text-yellow-300 mr-2"></i><span class="text-highlight">A. í•­ìƒ ê·¸ë ‡ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.</span> ë”¥ëŸ¬ë‹ ëª¨ë¸ì€ í•™ìŠµ ë°ì´í„°ì™€ ìœ ì‚¬í•œ í™˜ê²½ì—ì„œëŠ” ìµœê³ ì˜ ì •í™•ë„ë¥¼ ë³´ì´ì§€ë§Œ, ì²˜ìŒ ë³´ëŠ” í™˜ê²½ì—ì„œëŠ” ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ìƒë‹¹í•œ GPU ìì›ì„ í•„ìš”ë¡œ í•˜ë¯€ë¡œ ì„ë² ë””ë“œ í™˜ê²½ì—ëŠ” SGBM ê°™ì€ ì „í†µì  ë°©ì‹ì´ ë” íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>

            <!-- Slide 15: Final -->
            <div class="swiper-slide">
                <div class="absolute top-6 right-8 text-lg font-bold text-gray-500">15 / 15</div>
                <h1 class="bg-gradient-to-r from-sky-400 to-cyan-300 bg-clip-text text-transparent">ê°ì‚¬í•©ë‹ˆë‹¤</h1>
                <p class="text-lg text-gray-400 mt-4">ê¶ê¸ˆí•œ ì ì´ ìˆë‹¤ë©´ ì–¸ì œë“ ì§€ ì§ˆë¬¸í•´ì£¼ì„¸ìš”.</p>
                 <p class="text-sm text-gray-500 mt-12">Generated from stereo_vision_guide.md</p>
            </div>
        </div>
        <!-- If we need pagination -->
        <div class="swiper-pagination"></div>

        <!-- If we need navigation buttons -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <img id="modalImage" class="modal-image" src="" alt="">
        </div>
    </div>

    <!-- Calculation Modal -->
    <div id="calcModal" class="calc-modal">
        <div class="calc-modal-content">
            <span class="calc-close" id="calcClose">&times;</span>
            <div class="calc-modal-header">
                <h2 class="calc-modal-title" id="calcModalTitle">ê³„ì‚° ê³¼ì •</h2>
                <p class="calc-modal-subtitle" id="calcModalSubtitle">ë‹¨ê³„ë³„ ê³„ì‚° ê³¼ì •ì„ í™•ì¸í•˜ì„¸ìš”</p>
            </div>
            
            <div class="grid grid-cols-2 gap-8 mb-6">
                <div class="text-center">
                    <h3 class="text-lg font-semibold mb-4 text-cyan-400">ì¢Œì¸¡ ìœˆë„ìš°</h3>
                    <div class="calc-grid-large" id="leftGridLarge"></div>
                </div>
                <div class="text-center">
                    <h3 class="text-lg font-semibold mb-4 text-cyan-400">ìš°ì¸¡ ìœˆë„ìš°</h3>
                    <div class="calc-grid-large" id="rightGridLarge"></div>
                </div>
            </div>
            
            <div class="calc-steps-large" id="calcStepsLarge">
                <div class="text-center text-gray-400 text-lg">ê³„ì‚°ì„ ì‹œì‘í•˜ë ¤ë©´ ì›ë³¸ ì¹´ë“œì˜ ê³„ì‚° ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</div>
            </div>
            
            <div id="finalResultLarge" class="final-result" style="display: none;">
                <span id="finalResultText">ìµœì¢… ê²°ê³¼: </span>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        const swiper = new Swiper('.swiper', {
            // Optional parameters
            direction: 'horizontal',
            loop: false,

            // If we need pagination
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },

            // Navigation arrows
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            
            // Keyboard control
            keyboard: {
                enabled: true,
            },
        });

        // --- Interactive Calculators Logic with Animation ---
        function clearHighlights(calcId) {
            const inputs = document.querySelectorAll(`#${calcId} .grid-input`);
            inputs.forEach(input => {
                input.classList.remove('highlight', 'processing');
            });
        }

        function animateStep(leftEl, rightEl, stepEl, stepText, delay = 500) {
            return new Promise(resolve => {
                setTimeout(() => {
                    leftEl?.classList.add('highlight');
                    rightEl?.classList.add('highlight');
                    stepEl.innerHTML += stepText + '<br>';
                    stepEl.scrollTop = stepEl.scrollHeight;
                    
                    setTimeout(() => {
                        leftEl?.classList.remove('highlight');
                        rightEl?.classList.remove('highlight');
                        leftEl?.classList.add('processing');
                        rightEl?.classList.add('processing');
                        
                        setTimeout(() => {
                            leftEl?.classList.remove('processing');
                            rightEl?.classList.remove('processing');
                            resolve();
                        }, 300);
                    }, 300);
                }, delay);
            });
        }

        // Modal related functions
        function openCalcModal(algorithm, title, subtitle) {
            const modal = document.getElementById('calcModal');
            const modalTitle = document.getElementById('calcModalTitle');
            const modalSubtitle = document.getElementById('calcModalSubtitle');
            const leftGrid = document.getElementById('leftGridLarge');
            const rightGrid = document.getElementById('rightGridLarge');
            const stepsEl = document.getElementById('calcStepsLarge');
            const finalResult = document.getElementById('finalResultLarge');
            
            modalTitle.textContent = title;
            modalSubtitle.textContent = subtitle;
            
            // Clear previous content
            leftGrid.innerHTML = '';
            rightGrid.innerHTML = '';
            stepsEl.innerHTML = '<div class="text-center text-cyan-400 text-lg font-semibold">ê³„ì‚° ì¤€ë¹„ ì¤‘...</div>';
            finalResult.style.display = 'none';
            
            // Get original grid values
            const calcId = `${algorithm}-calculator`;
            const originalLeft = document.querySelectorAll(`#${calcId} .calc-grid-container > div:first-child .grid-input`);
            const originalRight = algorithm === 'census' ? null : document.querySelectorAll(`#${calcId} .calc-grid-container > div:last-child .grid-input`);
            
            // Create large grids
            if (algorithm === 'census') {
                // For census, show only one grid
                document.querySelector('#calcModal .grid').classList.add('hidden');
                const singleGrid = document.createElement('div');
                singleGrid.className = 'text-center mb-6';
                singleGrid.innerHTML = `
                    <h3 class="text-lg font-semibold mb-4 text-cyan-400">í”½ì…€ ìœˆë„ìš°</h3>
                    <div class="calc-grid-large mx-auto" id="singleGridLarge"></div>
                `;
                document.querySelector('.calc-modal-header').after(singleGrid);
                
                const singleGridEl = document.getElementById('singleGridLarge');
                originalLeft.forEach((input, i) => {
                    const newInput = document.createElement('div');
                    newInput.className = `grid-input-large ${i === 4 ? 'center' : ''}`;
                    newInput.textContent = input.value;
                    newInput.dataset.index = i;
                    singleGridEl.appendChild(newInput);
                });
            } else {
                // For SAD/SSD, show both grids
                originalLeft.forEach((input, i) => {
                    const leftDiv = document.createElement('div');
                    leftDiv.className = 'grid-input-large';
                    leftDiv.textContent = input.value;
                    leftDiv.dataset.index = i;
                    leftGrid.appendChild(leftDiv);
                });
                
                originalRight.forEach((input, i) => {
                    const rightDiv = document.createElement('div');
                    rightDiv.className = 'grid-input-large';
                    rightDiv.textContent = input.value;
                    rightDiv.dataset.index = i;
                    rightGrid.appendChild(rightDiv);
                });
            }
            
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeCalcModal() {
            const modal = document.getElementById('calcModal');
            modal.classList.remove('show');
            document.body.style.overflow = 'auto';
            
            // Clean up census-specific layout
            const singleGrid = document.querySelector('#calcModal .text-center.mb-6');
            if (singleGrid && singleGrid.querySelector('#singleGridLarge')) {
                singleGrid.remove();
                document.querySelector('#calcModal .grid').classList.remove('hidden');
            }
        }

        async function animateModalStep(leftIndex, rightIndex, stepContent, algorithm, delay = 800) {
            return new Promise(resolve => {
                setTimeout(() => {
                    const stepsEl = document.getElementById('calcStepsLarge');
                    const stepDiv = document.createElement('div');
                    stepDiv.className = 'step-item';
                    stepDiv.innerHTML = stepContent;
                    stepsEl.appendChild(stepDiv);
                    
                    // Highlight elements
                    if (algorithm === 'census') {
                        const gridEl = document.getElementById('singleGridLarge');
                        if (leftIndex !== null && gridEl) {
                            const elements = gridEl.children;
                            if (elements[leftIndex]) {
                                elements[leftIndex].classList.add('highlight');
                                setTimeout(() => elements[leftIndex].classList.remove('highlight'), 1500);
                            }
                        }
                    } else {
                        const leftGrid = document.getElementById('leftGridLarge');
                        const rightGrid = document.getElementById('rightGridLarge');
                        
                        if (leftIndex !== null && leftGrid.children[leftIndex]) {
                            leftGrid.children[leftIndex].classList.add('highlight');
                            setTimeout(() => leftGrid.children[leftIndex].classList.remove('highlight'), 1500);
                        }
                        if (rightIndex !== null && rightGrid.children[rightIndex]) {
                            rightGrid.children[rightIndex].classList.add('highlight');
                            setTimeout(() => rightGrid.children[rightIndex].classList.remove('highlight'), 1500);
                        }
                    }
                    
                    stepsEl.scrollTop = stepsEl.scrollHeight;
                    resolve();
                }, delay);
            });
        }

        // Updated SAD Calculation with Modal
        document.getElementById('sad-calculate-btn').addEventListener('click', async () => {
            const calcId = 'sad-calculator';
            const btn = document.getElementById('sad-calculate-btn');
            const resultEl = document.getElementById('sad-result');
            const left = document.querySelectorAll(`#${calcId} .calc-grid-container > div:first-child .grid-input`);
            const right = document.querySelectorAll(`#${calcId} .calc-grid-container > div:last-child .grid-input`);
            
            // Open modal
            openCalcModal('sad', 'SAD (Sum of Absolute Differences)', 'í”½ì…€ê°’ ì°¨ì´ì˜ ì ˆëŒ“ê°’ í•© ê³„ì‚°');
            
            btn.disabled = true;
            resultEl.textContent = 'ê³„ì‚°ì¤‘...';
            
            // Clear original steps
            document.getElementById('sad-steps').innerHTML = '';
            
            let totalCost = 0;
            
            // Add initial step
            await animateModalStep(null, null, `
                <div class="step-number">SAD ê³„ì‚° ì‹œì‘</div>
                <div class="text-gray-300">ê³µì‹: SAD = Î£ |ì¢Œì¸¡í”½ì…€ - ìš°ì¸¡í”½ì…€|</div>
            `, 'sad', 200);
            
            for (let i = 0; i < left.length; i++) {
                const leftVal = parseInt(left[i].value, 10) || 0;
                const rightVal = parseInt(right[i].value, 10) || 0;
                const diff = Math.abs(leftVal - rightVal);
                totalCost += diff;
                
                const stepContent = `
                    <div class="step-number">Step ${i+1}</div>
                    <div class="step-calculation">|${leftVal} - ${rightVal}| = ${diff}</div>
                    <div class="step-result">ëˆ„ì  í•©ê³„: ${totalCost}</div>
                `;
                
                await animateModalStep(i, i, stepContent, 'sad');
            }
            
            // Show final result
            const finalResultEl = document.getElementById('finalResultLarge');
            const finalResultText = document.getElementById('finalResultText');
            finalResultText.textContent = `ìµœì¢… SAD ë¹„ìš©: ${totalCost}`;
            finalResultEl.style.display = 'block';
            
            resultEl.textContent = totalCost;
            btn.disabled = false;
        });

        // Updated SSD Calculation with Modal
        document.getElementById('ssd-calculate-btn').addEventListener('click', async () => {
            const calcId = 'ssd-calculator';
            const btn = document.getElementById('ssd-calculate-btn');
            const resultEl = document.getElementById('ssd-result');
            const left = document.querySelectorAll(`#${calcId} .calc-grid-container > div:first-child .grid-input`);
            const right = document.querySelectorAll(`#${calcId} .calc-grid-container > div:last-child .grid-input`);
            
            // Open modal
            openCalcModal('ssd', 'SSD (Sum of Squared Differences)', 'í”½ì…€ê°’ ì°¨ì´ì˜ ì œê³± í•© ê³„ì‚°');
            
            btn.disabled = true;
            resultEl.textContent = 'ê³„ì‚°ì¤‘...';
            
            // Clear original steps
            document.getElementById('ssd-steps').innerHTML = '';
            
            let totalCost = 0;
            
            // Add initial step
            await animateModalStep(null, null, `
                <div class="step-number">SSD ê³„ì‚° ì‹œì‘</div>
                <div class="text-gray-300">ê³µì‹: SSD = Î£ (ì¢Œì¸¡í”½ì…€ - ìš°ì¸¡í”½ì…€)Â²</div>
            `, 'ssd', 200);
            
            for (let i = 0; i < left.length; i++) {
                const leftVal = parseInt(left[i].value, 10) || 0;
                const rightVal = parseInt(right[i].value, 10) || 0;
                const diff = leftVal - rightVal;
                const squared = diff * diff;
                totalCost += squared;
                
                const stepContent = `
                    <div class="step-number">Step ${i+1}</div>
                    <div class="step-calculation">(${leftVal} - ${rightVal})Â² = ${diff}Â² = ${squared}</div>
                    <div class="step-result">ëˆ„ì  í•©ê³„: ${totalCost}</div>
                `;
                
                await animateModalStep(i, i, stepContent, 'ssd');
            }
            
            // Show final result
            const finalResultEl = document.getElementById('finalResultLarge');
            const finalResultText = document.getElementById('finalResultText');
            finalResultText.textContent = `ìµœì¢… SSD ë¹„ìš©: ${totalCost}`;
            finalResultEl.style.display = 'block';
            
            resultEl.textContent = totalCost;
            btn.disabled = false;
        });

        // Updated Census Transform Calculation with Modal
        document.getElementById('census-calculate-btn').addEventListener('click', async () => {
            const calcId = 'census-calculator';
            const btn = document.getElementById('census-calculate-btn');
            const resultEl = document.getElementById('census-result');
            const inputs = document.querySelectorAll(`#${calcId} .value-grid .grid-input`);
            const values = Array.from(inputs).map(input => parseInt(input.value, 10) || 0);
            
            // Open modal
            openCalcModal('census', 'Census Transform', 'ì¤‘ì‹¬ í”½ì…€ê³¼ ì£¼ë³€ í”½ì…€ì˜ ëŒ€ì†Œ ê´€ê³„ë¡œ ë¹„íŠ¸ íŒ¨í„´ ìƒì„±');
            
            btn.disabled = true;
            resultEl.innerHTML = 'ê³„ì‚°ì¤‘...';
            
            // Clear original steps
            document.getElementById('census-steps').innerHTML = '';
            
            if (values.length !== 9) {
                resultEl.textContent = 'Error';
                btn.disabled = false;
                return;
            }

            const centerValue = values[4];
            const neighborIndices = [0, 1, 2, 3, 5, 6, 7, 8];
            let bitString = '';
            
            // Add initial step
            await animateModalStep(4, null, `
                <div class="step-number">Census Transform ì‹œì‘</div>
                <div class="step-calculation">ì¤‘ì‹¬ê°’: ${centerValue}</div>
                <div class="text-gray-300">ê° ì£¼ë³€ í”½ì…€ê³¼ ì¤‘ì‹¬ê°’ì„ ë¹„êµí•˜ì—¬ ë¹„íŠ¸ íŒ¨í„´ ìƒì„±</div>
            `, 'census', 200);
            
            for (let i = 0; i < neighborIndices.length; i++) {
                const index = neighborIndices[i];
                const neighborVal = values[index];
                const bit = (neighborVal >= centerValue) ? '1' : '0';
                bitString += bit;
                
                const comparison = neighborVal >= centerValue ? 'â‰¥' : '<';
                const stepContent = `
                    <div class="step-number">ë¹„êµ ${i+1}</div>
                    <div class="step-calculation">${neighborVal} ${comparison} ${centerValue} â†’ <span style="background: ${bit === '1' ? '#10B981' : '#EF4444'}; color: white; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-weight: bold;">${bit}</span></div>
                    <div class="step-result">í˜„ì¬ íŒ¨í„´: ${bitString}</div>
                `;
                
                await animateModalStep(index, null, stepContent, 'census');
            }
            
            const decimalValue = parseInt(bitString, 2);
            
            // Show final result
            const finalResultEl = document.getElementById('finalResultLarge');
            const finalResultText = document.getElementById('finalResultText');
            finalResultText.innerHTML = `
                ìµœì¢… ì´ì§„ íŒ¨í„´: <span style="font-family: monospace; background: #1F2937; padding: 0.5rem; border-radius: 0.25rem;">${bitString}</span><br>
                ì‹­ì§„ìˆ˜ ê°’: <span style="color: #10B981; font-weight: bold;">${decimalValue}</span>
            `;
            finalResultEl.style.display = 'block';
            
            resultEl.innerHTML = `<br>ì´ì§„ê°’: ${bitString}<br>ì‹­ì§„ìˆ˜: ${decimalValue}`;
            btn.disabled = false;
        });

        // Algorithm Cards Interaction
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.algorithm-card');
            
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    const algorithm = this.dataset.algorithm;
                    const content = document.getElementById(`${algorithm}-content`);
                    const isExpanded = this.classList.contains('expanded');
                    
                    // Close all other cards
                    cards.forEach(otherCard => {
                        if (otherCard !== this) {
                            otherCard.classList.remove('expanded');
                            const otherAlgorithm = otherCard.dataset.algorithm;
                            const otherContent = document.getElementById(`${otherAlgorithm}-content`);
                            otherContent.classList.remove('show');
                        }
                    });
                    
                    // Toggle current card
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('show');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('show');
                    }
                });
            });

            // Image Modal Functionality
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const closeModal = document.getElementById('closeModal');

            // Open modal when clicking on clickable images
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('clickable-image')) {
                    e.stopPropagation(); // Prevent card toggle
                    modal.classList.add('show');
                    modalImage.src = e.target.src;
                    modalImage.alt = e.target.alt;
                    document.body.style.overflow = 'hidden'; // Prevent scrolling
                }
            });

            // Close modal when clicking close button
            closeModal.addEventListener('click', function() {
                modal.classList.remove('show');
                document.body.style.overflow = 'auto'; // Restore scrolling
            });

            // Close modal when clicking outside the image
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.remove('show');
                    document.body.style.overflow = 'auto'; // Restore scrolling
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && modal.classList.contains('show')) {
                    modal.classList.remove('show');
                    document.body.style.overflow = 'auto'; // Restore scrolling
                }
            });

            // Calculation Modal Controls
            const calcModal = document.getElementById('calcModal');
            const calcClose = document.getElementById('calcClose');

            // Close calculation modal when clicking close button
            calcClose.addEventListener('click', closeCalcModal);

            // Close calculation modal when clicking outside the content
            calcModal.addEventListener('click', function(e) {
                if (e.target === calcModal) {
                    closeCalcModal();
                }
            });

            // Close calculation modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && calcModal.classList.contains('show')) {
                    closeCalcModal();
                }
            });
        });
    </script>
</body>
</html>
