# �� 스테레오비전 기초 실습 - 과외 수업 스크립트

## 📋 수업 개요
- **수업 시간**: 90분 (휴식 5분 포함)
- **난이도**: 초급 ~ 중급
- **학습 목표**: OpenCV를 활용한 기본 스테레오비전 구현
- **준비물**: Python 환경, OpenCV, matplotlib

---

## 🎯 수업 진행 시나리오 (90분)

### **도입부 (10분) - 0:00~0:10**

**선생님:** "안녕하세요! 오늘은 스테레오비전의 기초를 배워보겠습니다. 먼저 우리 눈이 어떻게 거리를 인식하는지 아시나요?"

#### 💡 설명 포인트
- 사람의 양안시 원리 (binocular vision)
- 시차(disparity)의 개념
- 컴퓨터비전에서의 응용 분야

**실습:** 한쪽 눈을 가리고 물체 잡기 실험
"왜 어려웠을까요? 바로 시차 정보가 없어서입니다!"

### **환경설정 및 라이브러리 import (10분) - 0:10~0:20**

**첫 번째 셀 실행**
```python
import cv2
import numpy as np
import matplotlib.pyplot as plt
# ... 라이브러리 import
```

#### ⚠️ 학생 예상 질문 & 대응
- **Q:** "왜 이렇게 많은 라이브러리가 필요한가요?"
- **A:** "각각의 역할을 설명해드릴게요. cv2는 영상처리, numpy는 수치연산, matplotlib는 시각화를 담당합니다."

**실습 팁:** OpenCV 버전 확인 - 4.x 이상 권장

### **테스트 이미지 생성 (15분) - 0:20~0:35**

**두 번째 셀 실행 - create_test_stereo_images() 함수**

#### 📝 단계별 설명
1. **왜 테스트 이미지를 만드나요?**
   - 실제 스테레오 카메라가 없어도 학습 가능
   - 알려진 시차 값으로 알고리즘 검증

2. **코드 해석하며 설명**
   ```python
   # 좌측 이미지에서 우측 이미지로 객체 이동
   cv2.rectangle(left_img, (100, 100), (200, 200), 255, -1)   # 원본
   cv2.rectangle(right_img, (85, 100), (185, 200), 255, -1)   # 15픽셀 이동
   ```

**선생님:** "여기서 15픽셀 차이가 바로 시차입니다. 실제 카메라에서는 물체의 거리에 따라 이런 시차가 자연스럽게 발생해요."

#### 🤚 학생 실습
- 다른 시차 값으로 실험해보기
- 노이즈의 역할 이해하기

### **이미지 시각화 (10분) - 0:35~0:45**

**세 번째 셀 실행 - 좌우 이미지 비교**

#### 👀 관찰 포인트
- 객체들의 위치 차이 확인
- 시차가 다른 객체들 비교 (가까운 것 vs 먼 것)

**선생님:** "화면을 번갈아 보면서 차이점을 찾아보세요. 이것이 바로 스테레오비전의 핵심입니다!"

### **휴식 시간 (5분) - 0:45~0:50**

---

### **StereoBM 알고리즘 구현 (20분) - 0:50~1:10**

**네 번째 셀 실행 - create_stereo_bm() 함수**

#### 🔧 핵심 개념 설명
1. **StereoBM이란?**
   - Block Matching 방식
   - 블록 단위로 유사도 계산
   - 빠른 속도, 하드웨어 친화적

2. **주요 매개변수 해석**
   ```python
   numDisparities=64   # 시차 탐색 범위 (16의 배수)
   blockSize=15        # 비교 블록 크기 (홀수)
   ```

#### 💡 학생 이해도 체크
**Q:** "numDisparities가 64라는 것은 무슨 의미인가요?"
**A:** "최대 64픽셀까지 시차를 찾겠다는 뜻입니다. 즉, 64픽셀 차이까지 매칭할 수 있어요."

**실습:** 매개변수 값 변경해보며 차이 관찰

### **시차 맵 계산 및 시각화 (15분) - 1:10~1:25**

**다섯 번째 셀 실행 - disparity 계산**

#### 📊 결과 분석 가이드
1. **시차 맵 해석법**
   - 밝은 부분: 큰 시차 (가까운 물체)
   - 어두운 부분: 작은 시차 (먼 물체)
   - 검은 부분: 매칭 실패 영역

2. **통계 수치 의미**
   ```
   최소값: -48  (매칭 실패)
   최대값: 64   (가장 가까운 물체)
   평균값: 12.5 (전체적인 시차 수준)
   ```

#### ⚠️ 문제해결 가이드
- **노이즈가 많다면?** → blockSize 증가
- **디테일이 부족하다면?** → blockSize 감소
- **먼 물체가 안 보인다면?** → numDisparities 증가

### **마무리 및 질의응답 (15분) - 1:25~1:40**

#### 📝 정리 및 복습
1. **오늘 배운 내용**
   - 스테레오비전의 기본 원리
   - OpenCV StereoBM 사용법
   - 시차 맵 생성 및 해석

2. **다음 시간 예고**
   - StereoSGBM과의 비교
   - 실제 깊이 계산 방법
   - 3D 재구성 기법

#### 🤚 예상 질문 & 답변 준비
**Q:** "실제 카메라로는 어떻게 하나요?"
**A:** "두 대의 카메라를 설치하고 캘리브레이션을 통해 정렬합니다. 다음 시간에 자세히 다룰 예정이에요."

**Q:** "정확도를 높이려면?"
**A:** "더 좋은 알고리즘(SGBM), 전처리, 후처리 등이 필요합니다."

---

## 🎯 수업 운영 팁

### **효과적인 설명 방법**
1. **시각적 비교**: 항상 before/after 보여주기
2. **손동작 활용**: 양손으로 시차 개념 설명
3. **실생활 예시**: 주차 센서, 로봇 청소기 등

### **학생 참여 유도**
1. **예측하게 하기**: "매개변수를 바꾸면 어떻게 될까요?"
2. **직접 실험**: 값을 변경해보며 결과 관찰
3. **문제해결**: 의도적으로 문제 상황 만들고 해결

### **시간 관리 요령**
- **코드 실행 시간** 고려 (특히 큰 이미지)
- **설명과 실습의 밸런스** 6:4 비율
- **버퍼 타임** 각 섹션마다 2-3분 여유

### **학생별 맞춤 대응**
- **초보자**: 개념 위주 설명, 코드는 따라하기
- **중급자**: 매개변수 실험, 결과 분석 유도
- **고급자**: 알고리즘 원리, 수식 설명 추가

---

## 📚 추가 학습 자료

### **권장 실습 과제**
1. 다른 시차 값으로 테스트 이미지 생성
2. 실제 스테레오 이미지로 실험 (온라인 데이터셋)
3. 매개변수별 성능 비교 표 만들기

### **심화 학습 주제**
- 카메라 캘리브레이션
- 에피폴라 기하학
- 스테레오 정류 (rectification)

### **다음 수업 준비사항**
- 더 복잡한 알고리즘 (SGBM)
- 성능 비교 방법
- 실제 응용 사례 